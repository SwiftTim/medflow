<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Hospital Supply Order</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">

  <!-- Fontawesome CSS -->
  <link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
  <link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">

  <!-- Main CSS -->
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body class="account-page">

<!-- Page Content -->
<div class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-8 offset-md-2">

        <!-- Page Header -->
        <div class="login-header text-center mb-4">
          <h3>Hospital Supply Order Form</h3>
          <p>Please fill in the following details to place an order.</p>
        </div>

        <!-- Order Form -->
        <form id="orderForm" class="card p-4 shadow-sm">

          <div class="form-group form-focus">
            <label class="focus-label">Item Name</label>
            <input type="text" class="form-control floating" name="item_name" required>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Category</label>
            <select class="form-control" name="category" required>
              <option value="">Select Category</option>
              <option value="medication">Medication</option>
              <option value="equipment">Medical Equipment</option>
              <option value="consumables">Consumables</option>
              <option value="cleaning">Cleaning Supplies</option>
              <option value="ppe">PPE</option>
            </select>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Quantity</label>
            <input type="number" class="form-control floating" name="quantity" required>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Unit Type</label>
            <select class="form-control" name="unit_type" required>
              <option value="">Select Unit</option>
              <option value="boxes">Boxes</option>
              <option value="pieces">Pieces</option>
              <option value="litres">Litres</option>
              <option value="kits">Kits</option>
            </select>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Supplier Name</label>
            <input type="text" class="form-control floating" name="supplier" required>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Delivery Date</label>
            <input type="date" class="form-control floating" name="delivery_date" required>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Priority Level</label>
            <select class="form-control" name="priority" required>
              <option value="">Select Priority</option>
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
              <option value="urgent">Urgent</option>
            </select>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Department</label>
            <input type="text" class="form-control floating" name="department" placeholder="e.g. Emergency" required>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Ordered By (Staff ID)</label>
            <input type="text" class="form-control floating" name="staff_id" required>
          </div>

          <div class="form-group form-focus">
            <label class="focus-label">Additional Notes</label>
            <textarea class="form-control floating" name="notes" rows="3" placeholder="Optional instructions..."></textarea>
          </div>

          <button type="submit" class="btn btn-primary btn-block btn-lg login-btn">Submit Order</button>
        </form>
        <!-- /Order Form -->

        <script>
          document.getElementById("orderForm").addEventListener("submit", async function (e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            try {
              const res = await fetch("/api/orders", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
              });

              if (!res.ok) throw new Error("Order submission failed");
              alert("Order submitted successfully.");
              this.reset();
            } catch (err) {
              alert(err.message);
            }
          });
        </script>

      </div>
    </div>
  </div>
</div>
<!-- /Page Content -->

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/script.js"></script>

</body>
</html>
